<!doctype html>
<html lang="fr">
<head>
Â  <meta charset="utf-8" />
Â  <title>RA : Cube Blanc au Clic</title>
Â  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
Â  <style>
Â  Â  body, html {
Â  Â  Â  margin: 0; padding: 0;
Â  Â  Â  height: 100%; overflow: hidden;
Â  Â  Â  background: #000; color: #fff;
Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  }
Â  Â  #overlay {
Â  Â  Â  position: absolute;
Â  Â  Â  top: 8px; left: 8px;
Â  Â  Â  background: rgba(0,0,0,0.6);
Â  Â  Â  padding: 12px 15px;
Â  Â  Â  border-radius: 8px;
Â  Â  Â  font-size: 16px;
Â  Â  Â  text-align: center;
Â  Â  Â  z-index: 2;
      width: calc(100% - 32px);
Â  Â  }
    /* Style pour positionner le logo en bas Ã  droite */
Â  Â  #logo {
Â  Â  Â  position: absolute;
Â  Â  Â  bottom: 10px; /* Positionnement en bas */
Â  Â  Â  right: 10px; /* Positionnement Ã  droite */
Â  Â  Â  z-index: 2;
Â  Â  Â  width: 80px; /* Taille du logo */
Â  Â  Â  opacity: 0.8;
      transition: opacity 0.3s;
Â  Â  }
    #logo:hover {
        opacity: 1.0;
    }
Â  </style>

Â  Â  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
Â  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body>
Â  <div id="overlay">
Â  Â  <b>ðŸª„ RÃ©alitÃ© AugmentÃ©e :</b> Pointez la camÃ©ra vers le marqueur **Hiro**.<br>
Â  Â  ðŸ‘† **TOUCHEZ l'Ã©cran** pour faire apparaÃ®tre l'objet 3D blanc !
Â  </div>

Â  Â  <img id="logo" src="LogoAr.png" alt="Logo de dÃ©monstration" />

Â  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
Â  Â  <a-entity light="type: ambient; intensity: 1.0; color: #fff"></a-entity>
Â  Â  <a-entity light="type: directional; intensity: 0.8; color: #fff" position="1 1 0.5"></a-entity>

Â  Â  Â  Â  <a-marker preset="hiro">
Â  Â  Â  Â  Â  Â  <a-box id="objet3d"
Â  Â  Â  Â  color="#FFFFFF" 
Â  Â  Â  Â  depth="0.5" height="0.5" width="0.5" 
Â  Â  Â  Â  rotation="0 0 0"
Â  Â  Â  Â  animation="property: rotation; to: 0 360 0; loop: true; dur: 5000; easing: linear"
Â  Â  Â  Â  position="0 0.25 0"
Â  Â  Â  Â  **visible="false"**> 
Â  Â  Â  </a-box>

Â  Â  Â  Â  Â  Â  <a-plane rotation="-90 0 0" width="1.5" height="1.5" color="#111" opacity="0.4" **visible="false"** id="ombre"></a-plane>
Â  Â  </a-marker>

Â  Â  <a-entity camera></a-entity>
Â  </a-scene>

Â  <script>
Â  Â  const objet3d = document.getElementById('objet3d');
Â  Â  const ombre = document.getElementById('ombre');
    const overlay = document.getElementById('overlay');
    let isVisible = false;

Â  Â  window.addEventListener('click', () => {
        // Le premier clic fait apparaÃ®tre l'objet
        if (!isVisible) {
            objet3d.setAttribute('visible', true);
            ombre.setAttribute('visible', true);
            isVisible = true;
            
            // Met Ã  jour l'instruction
            overlay.innerHTML = '<b>âœ… Objet AffichÃ© !</b> Touchez Ã  nouveau pour changer sa taille.';

        } else {
            // Clics suivants : Changer la taille de l'objet
            let taille = 0;
            const tailles = [
                { scale: '0.5 0.5 0.5' },
                { scale: '0.8 0.8 0.8' },
                { scale: '0.3 0.3 0.3' }
            ];

            // Lire la taille actuelle (A-Frame retourne un objet {x, y, z})
            const currentScale = objet3d.components.geometry.data;
            
            // Trouver l'index dans notre tableau de tailles
            let currentIndex = tailles.findIndex(t => t.scale.startsWith(`${currentScale.width} ${currentScale.height} ${currentScale.depth}`));
            
            // Calculer l'index suivant
            taille = (currentIndex + 1) % tailles.length;
            
            // Appliquer la nouvelle taille (ici on utilise setAttribute sur le composant box)
            const newScale = tailles[taille].scale.split(' ');
            objet3d.setAttribute('width', parseFloat(newScale[0]));
            objet3d.setAttribute('height', parseFloat(newScale[1]));
            objet3d.setAttribute('depth', parseFloat(newScale[2]));
            
            // Mise Ã  jour de la position pour le centrer sur le sol
            objet3d.setAttribute('position', `0 ${parseFloat(newScale[1]) / 2} 0`);
        }
Â  Â  });
Â  </script>
</body>
</html>
