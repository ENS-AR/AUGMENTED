<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <title>RÃ©alitÃ© augmentÃ©e : Terre 3D</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
  <style>
    body, html {
      margin: 0; padding: 0;
      height: 100%; overflow: hidden;
      font-family: Arial, sans-serif;
    }
    #overlay {
      position: absolute;
      top: 8px; left: 8px;
      background: rgba(0,0,0,0.4);
      padding: 10px 12px;
      border-radius: 8px;
      font-size: 14px;
      z-index: 2;
    }
    #logo {
      position: absolute;
      bottom: 10px;
      right: 10px;
      z-index: 2;
      width: 300px;
      opacity: 0.9;
      transition: transform 0.3s ease;
    }
    #logo:hover {
      transform: scale(1.05);
      opacity: 1;
    }
  </style>

  <!-- Librairies -->
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
</head>
<body>
  <div id="overlay">
    <b>ðŸª„ RÃ©alitÃ© augmentÃ©e :</b> pointez la camÃ©ra vers le marqueur <b>Hiro</b>.<br>
    ðŸ‘‰ Touchez lâ€™Ã©cran pour changer la taille de la Terre.
  </div>

  <!-- Logo en bas -->
  <img id="logo" src="LogoAr.png" alt="Logo" />

  <a-scene embedded arjs="sourceType: webcam; debugUIEnabled: false;">
    <!-- LumiÃ¨res -->
    <a-entity light="type: ambient; intensity: 1.0"></a-entity>
    <a-entity light="type: directional; intensity: 0.6" position="1 1 0.5"></a-entity>

    <!-- Marqueur Hiro -->
    <a-marker preset="hiro">
      <!-- Objet 3D Terre -->
      <a-entity id="terre"
        gltf-model="https://cdn.jsdelivr.net/gh/KhronosGroup/glTF-Sample-Models@master/2.0/EarthSatellite/glTF-Binary/EarthSatellite.glb"
        scale="0.3 0.3 0.3"
        rotation="0 0 0"
        animation="property: rotation; to: 0 360 0; loop: true; dur: 15000; easing: linear"
        position="0 0 0">
      </a-entity>

      <!-- Ombre au sol -->
      <a-plane rotation="-90 0 0" width="2" height="2" color="#111" opacity="0.2"></a-plane>
    </a-marker>

    <!-- CamÃ©ra -->
    <a-entity camera></a-entity>
  </a-scene>

  <script>
    const terre = document.getElementById('terre');
    let taille = 0;
    const tailles = [
      { scale: '0.3 0.3 0.3' },
      { scale: '0.5 0.5 0.5' },
      { scale: '0.2 0.2 0.2' }
    ];

    window.addEventListener('click', () => {
      taille = (taille + 1) % tailles.length;
      terre.setAttribute('scale', tailles[taille].scale);
    });
  </script>
</body>
</html>
